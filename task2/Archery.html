<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Div Archery Game</title>

<style>
  body {
    margin: 0;
    background: skyblue;
    font-family: Arial;
  }

  #score {
    position: absolute;
    top: 10px;
    left: 45%;
    transform: translateX(-50%);
    font-size: 24px;
    background: white;
    padding: 5px 15px;
    border-radius: 20px;
  }

  #timer {
     position: absolute;
    top: 10px;
    left: 55%;
    transform: translateX(-50%);
    font-size: 24px;
    background: white;
    padding: 5px 15px;
    border-radius: 20px;
  }

  #gameArea {
    position: relative;
    width: 100%;
    height: 90vh;
    overflow: hidden;
  }

  /* Bow */
  #bow {
    position: absolute;
    left: 20px;
    top: 50%;
    font-size: 50px;
    transform: translateY(-50%);
  }

  /* Arrow */
  #arrow {
    position: absolute;
    left: 80px;
    top: 50%;
    width: 60px;
    height: 4px;
    background: brown;
    display: none;
  }

  /* Target */
  #target {
    position: absolute;
    right: 50px;
    top: 100px;
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: red;
  }
</style>
</head>

<body>

<div id="score">Score: 0</div>
<div id="timer">Time: 30</div>

<div id="gameArea">
  <div id="bow">üèπ</div>
  <div id="arrow"></div>
  <div id="target">
    <img src="target.png" alt="Target" style="width: 100%; height: 100%; border-radius: 50%;">
  </div>
</div>

<script>
  const arrow = document.getElementById("arrow");
  const target = document.getElementById("target");
  const scoreDisplay = document.getElementById("score");
  const timerDisplay = document.getElementById("timer");
  const bow = document.getElementById("bow");
  let score = 0;
  let arrowMoving = false;
  let targetDirection = 1;
  let timeLeft = 30;
  let gameOver = false;

  /* Move target continuously */
  const targetInterval = setInterval(() => {
    if (gameOver) return;
    let top = target.offsetTop;
    if (top <= 0 || top >= window.innerHeight - 120) {
      targetDirection *= -1;
    }
    target.style.top = top + (5 * targetDirection) + "px";
  }, 50);

  const timerInterval = setInterval(() => {
    if (gameOver) return;
    timeLeft -= 1;
    timerDisplay.textContent = "Time: " + timeLeft;
    if (timeLeft <= 0) {
      gameOver = true;
      timerDisplay.textContent = "Time: 0";
      resetArrow();
      clearInterval(targetInterval);
      clearInterval(timerInterval);
    }
  }, 1000);

  /* Shoot arrow on click */
  document.addEventListener("click", () => {
    if (arrowMoving || gameOver) return;

    arrowMoving = true;
    arrow.style.display = "block";
    arrow.style.left = "80px";
    arrow.style.top = bow.offsetTop + 30 + "px";

    let arrowInterval = setInterval(() => {
      let arrowLeft = arrow.offsetLeft;
      arrow.style.left = arrowLeft + 15 + "px";

      /* Collision detection */
      if (
        arrow.offsetLeft + arrow.offsetWidth >= target.offsetLeft &&
        arrow.offsetTop >= target.offsetTop &&
        arrow.offsetTop <= target.offsetTop + target.offsetHeight
      ) {
        score++;
        scoreDisplay.textContent = "Score: " + score;
        resetArrow();
        clearInterval(arrowInterval);
      }

      /* Arrow out of screen */
      if (arrowLeft > window.innerWidth) {
        resetArrow();
        clearInterval(arrowInterval);
      }
    }, 20);
  });

  function resetArrow() {
    arrowMoving = false;
    arrow.style.display = "none";
  }
</script>

</body>
</html>